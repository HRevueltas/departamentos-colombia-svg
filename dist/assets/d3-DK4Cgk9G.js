class yt{constructor(){this._partials=new Float64Array(32),this._n=0}add(n){const e=this._partials;let i=0;for(let r=0;r<this._n&&r<32;r++){const o=e[r],u=n+o,a=Math.abs(n)<Math.abs(o)?n-(u-o):o-(u-n);a&&(e[i++]=a),n=u}return e[i]=n,this._n=i+1,this}valueOf(){const n=this._partials;let e=this._n,i,r,o,u=0;if(e>0){for(u=n[--e];e>0&&(i=u,r=n[--e],u=i+r,o=r-(u-i),!o););e>0&&(o<0&&n[e-1]<0||o>0&&n[e-1]>0)&&(r=o*2,i=u+r,r==i-u&&(u=i))}return u}}function*Hi(t){for(const n of t)yield*n}function Qe(t){return Array.from(Hi(t))}var Yi={value:()=>{}};function re(){for(var t=0,n=arguments.length,e={},i;t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new rn(e)}function rn(t){this._=t}function Oi(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}rn.prototype=re.prototype={constructor:rn,on:function(t,n){var e=this._,i=Oi(t+"",e),r,o=-1,u=i.length;if(arguments.length<2){for(;++o<u;)if((r=(t=i[o]).type)&&(r=Vi(e[r],t.name)))return r;return}if(n!=null&&typeof n!="function")throw new Error("invalid callback: "+n);for(;++o<u;)if(r=(t=i[o]).type)e[r]=ge(e[r],t.name,n);else if(n==null)for(r in e)e[r]=ge(e[r],t.name,null);return this},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new rn(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var e=new Array(r),i=0,r,o;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],i=0,r=o.length;i<r;++i)o[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,o=i.length;r<o;++r)i[r].value.apply(n,e)}};function Vi(t,n){for(var e=0,i=t.length,r;e<i;++e)if((r=t[e]).name===n)return r.value}function ge(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=Yi,t=t.slice(0,i).concat(t.slice(i+1));break}return e!=null&&t.push({name:n,value:e}),t}var Pn="http://www.w3.org/1999/xhtml";const de={svg:"http://www.w3.org/2000/svg",xhtml:Pn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function En(t){var n=t+="",e=n.indexOf(":");return e>=0&&(n=t.slice(0,e))!=="xmlns"&&(t=t.slice(e+1)),de.hasOwnProperty(n)?{space:de[n],local:t}:t}function Bi(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===Pn&&n.documentElement.namespaceURI===Pn?n.createElement(t):n.createElementNS(e,t)}}function Gi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Je(t){var n=En(t);return(n.local?Gi:Bi)(n)}function Ui(){}function oe(t){return t==null?Ui:function(){return this.querySelector(t)}}function Ki(t){typeof t!="function"&&(t=oe(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],u=o.length,a=i[r]=new Array(u),f,l,s=0;s<u;++s)(f=o[s])&&(l=t.call(f,f.__data__,s,o))&&("__data__"in f&&(l.__data__=f.__data__),a[s]=l);return new Q(i,this._parents)}function Zi(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function Wi(){return[]}function je(t){return t==null?Wi:function(){return this.querySelectorAll(t)}}function Qi(t){return function(){return Zi(t.apply(this,arguments))}}function Ji(t){typeof t=="function"?t=Qi(t):t=je(t);for(var n=this._groups,e=n.length,i=[],r=[],o=0;o<e;++o)for(var u=n[o],a=u.length,f,l=0;l<a;++l)(f=u[l])&&(i.push(t.call(f,f.__data__,l,u)),r.push(f));return new Q(i,r)}function ti(t){return function(){return this.matches(t)}}function ni(t){return function(n){return n.matches(t)}}var ji=Array.prototype.find;function tr(t){return function(){return ji.call(this.children,t)}}function nr(){return this.firstElementChild}function er(t){return this.select(t==null?nr:tr(typeof t=="function"?t:ni(t)))}var ir=Array.prototype.filter;function rr(){return Array.from(this.children)}function or(t){return function(){return ir.call(this.children,t)}}function ur(t){return this.selectAll(t==null?rr:or(typeof t=="function"?t:ni(t)))}function ar(t){typeof t!="function"&&(t=ti(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],u=o.length,a=i[r]=[],f,l=0;l<u;++l)(f=o[l])&&t.call(f,f.__data__,l,o)&&a.push(f);return new Q(i,this._parents)}function ei(t){return new Array(t.length)}function sr(){return new Q(this._enter||this._groups.map(ei),this._parents)}function ln(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}ln.prototype={constructor:ln,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function lr(t){return function(){return t}}function fr(t,n,e,i,r,o){for(var u=0,a,f=n.length,l=o.length;u<l;++u)(a=n[u])?(a.__data__=o[u],i[u]=a):e[u]=new ln(t,o[u]);for(;u<f;++u)(a=n[u])&&(r[u]=a)}function cr(t,n,e,i,r,o,u){var a,f,l=new Map,s=n.length,c=o.length,h=new Array(s),d;for(a=0;a<s;++a)(f=n[a])&&(h[a]=d=u.call(f,f.__data__,a,n)+"",l.has(d)?r[a]=f:l.set(d,f));for(a=0;a<c;++a)d=u.call(t,o[a],a,o)+"",(f=l.get(d))?(i[a]=f,f.__data__=o[a],l.delete(d)):e[a]=new ln(t,o[a]);for(a=0;a<s;++a)(f=n[a])&&l.get(h[a])===f&&(r[a]=f)}function hr(t){return t.__data__}function pr(t,n){if(!arguments.length)return Array.from(this,hr);var e=n?cr:fr,i=this._parents,r=this._groups;typeof t!="function"&&(t=lr(t));for(var o=r.length,u=new Array(o),a=new Array(o),f=new Array(o),l=0;l<o;++l){var s=i[l],c=r[l],h=c.length,d=gr(t.call(s,s&&s.__data__,l,i)),_=d.length,x=a[l]=new Array(_),w=u[l]=new Array(_),m=f[l]=new Array(h);e(s,c,x,w,m,d,n);for(var E=0,M=0,S,$;E<_;++E)if(S=x[E]){for(E>=M&&(M=E+1);!($=w[M])&&++M<_;);S._next=$||null}}return u=new Q(u,i),u._enter=a,u._exit=f,u}function gr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dr(){return new Q(this._exit||this._groups.map(ei),this._parents)}function vr(t,n,e){var i=this.enter(),r=this,o=this.exit();return typeof t=="function"?(i=t(i),i&&(i=i.selection())):i=i.append(t+""),n!=null&&(r=n(r),r&&(r=r.selection())),e==null?o.remove():e(o),i&&r?i.merge(r).order():r}function _r(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,o=i.length,u=Math.min(r,o),a=new Array(r),f=0;f<u;++f)for(var l=e[f],s=i[f],c=l.length,h=a[f]=new Array(c),d,_=0;_<c;++_)(d=l[_]||s[_])&&(h[_]=d);for(;f<r;++f)a[f]=e[f];return new Q(a,this._parents)}function mr(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var i=t[n],r=i.length-1,o=i[r],u;--r>=0;)(u=i[r])&&(o&&u.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(u,o),o=u);return this}function yr(t){t||(t=wr);function n(c,h){return c&&h?t(c.__data__,h.__data__):!c-!h}for(var e=this._groups,i=e.length,r=new Array(i),o=0;o<i;++o){for(var u=e[o],a=u.length,f=r[o]=new Array(a),l,s=0;s<a;++s)(l=u[s])&&(f[s]=l);f.sort(n)}return new Q(r,this._parents).order()}function wr(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}function xr(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Sr(){return Array.from(this)}function Er(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length;r<o;++r){var u=i[r];if(u)return u}return null}function Mr(){let t=0;for(const n of this)++t;return t}function Nr(){return!this.node()}function $r(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var r=n[e],o=0,u=r.length,a;o<u;++o)(a=r[o])&&t.call(a,a.__data__,o,r);return this}function Ar(t){return function(){this.removeAttribute(t)}}function Rr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Tr(t,n){return function(){this.setAttribute(t,n)}}function zr(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function br(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttribute(t):this.setAttribute(t,e)}}function kr(t,n){return function(){var e=n.apply(this,arguments);e==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Cr(t,n){var e=En(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((n==null?e.local?Rr:Ar:typeof n=="function"?e.local?kr:br:e.local?zr:Tr)(e,n))}function ii(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Pr(t){return function(){this.style.removeProperty(t)}}function Ir(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Dr(t,n,e){return function(){var i=n.apply(this,arguments);i==null?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function Fr(t,n,e){return arguments.length>1?this.each((n==null?Pr:typeof n=="function"?Dr:Ir)(t,n,e??"")):$t(this.node(),t)}function $t(t,n){return t.style.getPropertyValue(n)||ii(t).getComputedStyle(t,null).getPropertyValue(n)}function Xr(t){return function(){delete this[t]}}function Lr(t,n){return function(){this[t]=n}}function qr(t,n){return function(){var e=n.apply(this,arguments);e==null?delete this[t]:this[t]=e}}function Hr(t,n){return arguments.length>1?this.each((n==null?Xr:typeof n=="function"?qr:Lr)(t,n)):this.node()[t]}function ri(t){return t.trim().split(/^|\s+/)}function ue(t){return t.classList||new oi(t)}function oi(t){this._node=t,this._names=ri(t.getAttribute("class")||"")}oi.prototype={add:function(t){var n=this._names.indexOf(t);n<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ui(t,n){for(var e=ue(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function ai(t,n){for(var e=ue(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function Yr(t){return function(){ui(this,t)}}function Or(t){return function(){ai(this,t)}}function Vr(t,n){return function(){(n.apply(this,arguments)?ui:ai)(this,t)}}function Br(t,n){var e=ri(t+"");if(arguments.length<2){for(var i=ue(this.node()),r=-1,o=e.length;++r<o;)if(!i.contains(e[r]))return!1;return!0}return this.each((typeof n=="function"?Vr:n?Yr:Or)(e,n))}function Gr(){this.textContent=""}function Ur(t){return function(){this.textContent=t}}function Kr(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function Zr(t){return arguments.length?this.each(t==null?Gr:(typeof t=="function"?Kr:Ur)(t)):this.node().textContent}function Wr(){this.innerHTML=""}function Qr(t){return function(){this.innerHTML=t}}function Jr(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function jr(t){return arguments.length?this.each(t==null?Wr:(typeof t=="function"?Jr:Qr)(t)):this.node().innerHTML}function to(){this.nextSibling&&this.parentNode.appendChild(this)}function no(){return this.each(to)}function eo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function io(){return this.each(eo)}function ro(t){var n=typeof t=="function"?t:Je(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})}function oo(){return null}function uo(t,n){var e=typeof t=="function"?t:Je(t),i=n==null?oo:typeof n=="function"?n:oe(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})}function ao(){var t=this.parentNode;t&&t.removeChild(this)}function so(){return this.each(ao)}function lo(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function fo(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function co(t){return this.select(t?fo:lo)}function ho(t){return arguments.length?this.property("__data__",t):this.node().__data__}function po(t){return function(n){t.call(this,n,this.__data__)}}function go(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}function vo(t){return function(){var n=this.__on;if(n){for(var e=0,i=-1,r=n.length,o;e<r;++e)o=n[e],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):n[++i]=o;++i?n.length=i:delete this.__on}}}function _o(t,n,e){return function(){var i=this.__on,r,o=po(n);if(i){for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name){this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),r.value=n;return}}this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function mo(t,n,e){var i=go(t+""),r,o=i.length,u;if(arguments.length<2){var a=this.node().__on;if(a){for(var f=0,l=a.length,s;f<l;++f)for(r=0,s=a[f];r<o;++r)if((u=i[r]).type===s.type&&u.name===s.name)return s.value}return}for(a=n?_o:vo,r=0;r<o;++r)this.each(a(i[r],n,e));return this}function si(t,n,e){var i=ii(t),r=i.CustomEvent;typeof r=="function"?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function yo(t,n){return function(){return si(this,t,n)}}function wo(t,n){return function(){return si(this,t,n.apply(this,arguments))}}function xo(t,n){return this.each((typeof n=="function"?wo:yo)(t,n))}function*So(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,o=i.length,u;r<o;++r)(u=i[r])&&(yield u)}var li=[null];function Q(t,n){this._groups=t,this._parents=n}function Ut(){return new Q([[document.documentElement]],li)}function Eo(){return this}Q.prototype=Ut.prototype={constructor:Q,select:Ki,selectAll:Ji,selectChild:er,selectChildren:ur,filter:ar,data:pr,enter:sr,exit:dr,join:vr,merge:_r,selection:Eo,order:mr,sort:yr,call:xr,nodes:Sr,node:Er,size:Mr,empty:Nr,each:$r,attr:Cr,style:Fr,property:Hr,classed:Br,text:Zr,html:jr,raise:no,lower:io,append:ro,insert:uo,remove:so,clone:co,datum:ho,on:mo,dispatch:xo,[Symbol.iterator]:So};function vt(t){return typeof t=="string"?new Q([[document.querySelector(t)]],[document.documentElement]):new Q([[t]],li)}function Mo(t){let n;for(;n=t.sourceEvent;)t=n;return t}function dt(t,n){if(t=Mo(t),n===void 0&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,i=i.matrixTransform(n.getScreenCTM().inverse()),[i.x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}const In={capture:!0,passive:!1};function Dn(t){t.preventDefault(),t.stopImmediatePropagation()}function No(t){var n=t.document.documentElement,e=vt(t).on("dragstart.drag",Dn,In);"onselectstart"in n?e.on("selectstart.drag",Dn,In):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")}function $o(t,n){var e=t.document.documentElement,i=vt(t).on("dragstart.drag",null);n&&(i.on("click.drag",Dn,In),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}function ae(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function fi(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Kt(){}var Lt=.7,fn=1/Lt,Nt="\\s*([+-]?\\d+)\\s*",qt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ao=/^#([0-9a-f]{3,8})$/,Ro=new RegExp(`^rgb\\(${Nt},${Nt},${Nt}\\)$`),To=new RegExp(`^rgb\\(${ut},${ut},${ut}\\)$`),zo=new RegExp(`^rgba\\(${Nt},${Nt},${Nt},${qt}\\)$`),bo=new RegExp(`^rgba\\(${ut},${ut},${ut},${qt}\\)$`),ko=new RegExp(`^hsl\\(${qt},${ut},${ut}\\)$`),Co=new RegExp(`^hsla\\(${qt},${ut},${ut},${qt}\\)$`),ve={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ae(Kt,Ht,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_e,formatHex:_e,formatHex8:Po,formatHsl:Io,formatRgb:me,toString:me});function _e(){return this.rgb().formatHex()}function Po(){return this.rgb().formatHex8()}function Io(){return ci(this).formatHsl()}function me(){return this.rgb().formatRgb()}function Ht(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Ao.exec(t))?(e=n[1].length,n=parseInt(n[1],16),e===6?ye(n):e===3?new K(n>>8&15|n>>4&240,n>>4&15|n&240,(n&15)<<4|n&15,1):e===8?Zt(n>>24&255,n>>16&255,n>>8&255,(n&255)/255):e===4?Zt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|n&240,((n&15)<<4|n&15)/255):null):(n=Ro.exec(t))?new K(n[1],n[2],n[3],1):(n=To.exec(t))?new K(n[1]*255/100,n[2]*255/100,n[3]*255/100,1):(n=zo.exec(t))?Zt(n[1],n[2],n[3],n[4]):(n=bo.exec(t))?Zt(n[1]*255/100,n[2]*255/100,n[3]*255/100,n[4]):(n=ko.exec(t))?Se(n[1],n[2]/100,n[3]/100,1):(n=Co.exec(t))?Se(n[1],n[2]/100,n[3]/100,n[4]):ve.hasOwnProperty(t)?ye(ve[t]):t==="transparent"?new K(NaN,NaN,NaN,0):null}function ye(t){return new K(t>>16&255,t>>8&255,t&255,1)}function Zt(t,n,e,i){return i<=0&&(t=n=e=NaN),new K(t,n,e,i)}function Do(t){return t instanceof Kt||(t=Ht(t)),t?(t=t.rgb(),new K(t.r,t.g,t.b,t.opacity)):new K}function Fn(t,n,e,i){return arguments.length===1?Do(t):new K(t,n,e,i??1)}function K(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}ae(K,Fn,fi(Kt,{brighter(t){return t=t==null?fn:Math.pow(fn,t),new K(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Lt:Math.pow(Lt,t),new K(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new K(mt(this.r),mt(this.g),mt(this.b),cn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:we,formatHex:we,formatHex8:Fo,formatRgb:xe,toString:xe}));function we(){return`#${_t(this.r)}${_t(this.g)}${_t(this.b)}`}function Fo(){return`#${_t(this.r)}${_t(this.g)}${_t(this.b)}${_t((isNaN(this.opacity)?1:this.opacity)*255)}`}function xe(){const t=cn(this.opacity);return`${t===1?"rgb(":"rgba("}${mt(this.r)}, ${mt(this.g)}, ${mt(this.b)}${t===1?")":`, ${t})`}`}function cn(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function _t(t){return t=mt(t),(t<16?"0":"")+t.toString(16)}function Se(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new et(t,n,e,i)}function ci(t){if(t instanceof et)return new et(t.h,t.s,t.l,t.opacity);if(t instanceof Kt||(t=Ht(t)),!t)return new et;if(t instanceof et)return t;t=t.rgb();var n=t.r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),o=Math.max(n,e,i),u=NaN,a=o-r,f=(o+r)/2;return a?(n===o?u=(e-i)/a+(e<i)*6:e===o?u=(i-n)/a+2:u=(n-e)/a+4,a/=f<.5?o+r:2-o-r,u*=60):a=f>0&&f<1?0:u,new et(u,a,f,t.opacity)}function Xo(t,n,e,i){return arguments.length===1?ci(t):new et(t,n,e,i??1)}function et(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}ae(et,Xo,fi(Kt,{brighter(t){return t=t==null?fn:Math.pow(fn,t),new et(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Lt:Math.pow(Lt,t),new et(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new K(An(t>=240?t-240:t+120,r,i),An(t,r,i),An(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new et(Ee(this.h),Wt(this.s),Wt(this.l),cn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=cn(this.opacity);return`${t===1?"hsl(":"hsla("}${Ee(this.h)}, ${Wt(this.s)*100}%, ${Wt(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Ee(t){return t=(t||0)%360,t<0?t+360:t}function Wt(t){return Math.max(0,Math.min(1,t||0))}function An(t,n,e){return(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)*255}const hi=t=>()=>t;function Lo(t,n){return function(e){return t+e*n}}function qo(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}function Ho(t){return(t=+t)==1?pi:function(n,e){return e-n?qo(n,e,t):hi(isNaN(n)?e:n)}}function pi(t,n){var e=n-t;return e?Lo(t,e):hi(isNaN(t)?n:t)}const Me=(function t(n){var e=Ho(n);function i(r,o){var u=e((r=Fn(r)).r,(o=Fn(o)).r),a=e(r.g,o.g),f=e(r.b,o.b),l=pi(r.opacity,o.opacity);return function(s){return r.r=u(s),r.g=a(s),r.b=f(s),r.opacity=l(s),r+""}}return i.gamma=t,i})(1);function gt(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Xn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Rn=new RegExp(Xn.source,"g");function Yo(t){return function(){return t}}function Oo(t){return function(n){return t(n)+""}}function Vo(t,n){var e=Xn.lastIndex=Rn.lastIndex=0,i,r,o,u=-1,a=[],f=[];for(t=t+"",n=n+"";(i=Xn.exec(t))&&(r=Rn.exec(n));)(o=r.index)>e&&(o=n.slice(e,o),a[u]?a[u]+=o:a[++u]=o),(i=i[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,f.push({i:u,x:gt(i,r)})),e=Rn.lastIndex;return e<n.length&&(o=n.slice(e),a[u]?a[u]+=o:a[++u]=o),a.length<2?f[0]?Oo(f[0].x):Yo(n):(n=f.length,function(l){for(var s=0,c;s<n;++s)a[(c=f[s]).i]=c.x(l);return a.join("")})}var Ne=180/Math.PI,Ln={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function gi(t,n,e,i,r,o){var u,a,f;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(f=t*e+n*i)&&(e-=t*f,i-=n*f),(a=Math.sqrt(e*e+i*i))&&(e/=a,i/=a,f/=a),t*i<n*e&&(t=-t,n=-n,f=-f,u=-u),{translateX:r,translateY:o,rotate:Math.atan2(n,t)*Ne,skewX:Math.atan(f)*Ne,scaleX:u,scaleY:a}}var Qt;function Bo(t){const n=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ln:gi(n.a,n.b,n.c,n.d,n.e,n.f)}function Go(t){return t==null||(Qt||(Qt=document.createElementNS("http://www.w3.org/2000/svg","g")),Qt.setAttribute("transform",t),!(t=Qt.transform.baseVal.consolidate()))?Ln:(t=t.matrix,gi(t.a,t.b,t.c,t.d,t.e,t.f))}function di(t,n,e,i){function r(l){return l.length?l.pop()+" ":""}function o(l,s,c,h,d,_){if(l!==c||s!==h){var x=d.push("translate(",null,n,null,e);_.push({i:x-4,x:gt(l,c)},{i:x-2,x:gt(s,h)})}else(c||h)&&d.push("translate("+c+n+h+e)}function u(l,s,c,h){l!==s?(l-s>180?s+=360:s-l>180&&(l+=360),h.push({i:c.push(r(c)+"rotate(",null,i)-2,x:gt(l,s)})):s&&c.push(r(c)+"rotate("+s+i)}function a(l,s,c,h){l!==s?h.push({i:c.push(r(c)+"skewX(",null,i)-2,x:gt(l,s)}):s&&c.push(r(c)+"skewX("+s+i)}function f(l,s,c,h,d,_){if(l!==c||s!==h){var x=d.push(r(d)+"scale(",null,",",null,")");_.push({i:x-4,x:gt(l,c)},{i:x-2,x:gt(s,h)})}else(c!==1||h!==1)&&d.push(r(d)+"scale("+c+","+h+")")}return function(l,s){var c=[],h=[];return l=t(l),s=t(s),o(l.translateX,l.translateY,s.translateX,s.translateY,c,h),u(l.rotate,s.rotate,c,h),a(l.skewX,s.skewX,c,h),f(l.scaleX,l.scaleY,s.scaleX,s.scaleY,c,h),l=s=null,function(d){for(var _=-1,x=h.length,w;++_<x;)c[(w=h[_]).i]=w.x(d);return c.join("")}}}var Uo=di(Bo,"px, ","px)","deg)"),Ko=di(Go,", ",")",")"),Zo=1e-12;function $e(t){return((t=Math.exp(t))+1/t)/2}function Wo(t){return((t=Math.exp(t))-1/t)/2}function Qo(t){return((t=Math.exp(2*t))-1)/(t+1)}const Jo=(function t(n,e,i){function r(o,u){var a=o[0],f=o[1],l=o[2],s=u[0],c=u[1],h=u[2],d=s-a,_=c-f,x=d*d+_*_,w,m;if(x<Zo)m=Math.log(h/l)/n,w=function(b){return[a+b*d,f+b*_,l*Math.exp(n*b*m)]};else{var E=Math.sqrt(x),M=(h*h-l*l+i*x)/(2*l*e*E),S=(h*h-l*l-i*x)/(2*h*e*E),$=Math.log(Math.sqrt(M*M+1)-M),A=Math.log(Math.sqrt(S*S+1)-S);m=(A-$)/n,w=function(b){var k=b*m,C=$e($),D=l/(e*E)*(C*Qo(n*k+$)-Wo($));return[a+D*d,f+D*_,l*C/$e(n*k+$)]}}return w.duration=m*1e3*n/Math.SQRT2,w}return r.rho=function(o){var u=Math.max(.001,+o),a=u*u,f=a*a;return t(u,a,f)},r})(Math.SQRT2,2,4);var At=0,kt=0,zt=0,vi=1e3,hn,Ct,pn=0,wt=0,Mn=0,Yt=typeof performance=="object"&&performance.now?performance:Date,_i=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function se(){return wt||(_i(jo),wt=Yt.now()+Mn)}function jo(){wt=0}function gn(){this._call=this._time=this._next=null}gn.prototype=mi.prototype={constructor:gn,restart:function(t,n,e){if(typeof t!="function")throw new TypeError("callback is not a function");e=(e==null?se():+e)+(n==null?0:+n),!this._next&&Ct!==this&&(Ct?Ct._next=this:hn=this,Ct=this),this._call=t,this._time=e,qn()},stop:function(){this._call&&(this._call=null,this._time=1/0,qn())}};function mi(t,n,e){var i=new gn;return i.restart(t,n,e),i}function tu(){se(),++At;for(var t=hn,n;t;)(n=wt-t._time)>=0&&t._call.call(void 0,n),t=t._next;--At}function Ae(){wt=(pn=Yt.now())+Mn,At=kt=0;try{tu()}finally{At=0,eu(),wt=0}}function nu(){var t=Yt.now(),n=t-pn;n>vi&&(Mn-=n,pn=t)}function eu(){for(var t,n=hn,e,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:hn=e);Ct=t,qn(i)}function qn(t){if(!At){kt&&(kt=clearTimeout(kt));var n=t-wt;n>24?(t<1/0&&(kt=setTimeout(Ae,t-Yt.now()-Mn)),zt&&(zt=clearInterval(zt))):(zt||(pn=Yt.now(),zt=setInterval(nu,vi)),At=1,_i(Ae))}}function Re(t,n,e){var i=new gn;return n=n==null?0:+n,i.restart(r=>{i.stop(),t(r+n)},n,e),i}var iu=re("start","end","cancel","interrupt"),ru=[],yi=0,Te=1,Hn=2,on=3,ze=4,Yn=5,un=6;function Nn(t,n,e,i,r,o){var u=t.__transition;if(!u)t.__transition={};else if(e in u)return;ou(t,e,{name:n,index:i,group:r,on:iu,tween:ru,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:yi})}function le(t,n){var e=it(t,n);if(e.state>yi)throw new Error("too late; already scheduled");return e}function at(t,n){var e=it(t,n);if(e.state>on)throw new Error("too late; already running");return e}function it(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function ou(t,n,e){var i=t.__transition,r;i[n]=e,e.timer=mi(o,0,e.time);function o(l){e.state=Te,e.timer.restart(u,e.delay,e.time),e.delay<=l&&u(l-e.delay)}function u(l){var s,c,h,d;if(e.state!==Te)return f();for(s in i)if(d=i[s],d.name===e.name){if(d.state===on)return Re(u);d.state===ze?(d.state=un,d.timer.stop(),d.on.call("interrupt",t,t.__data__,d.index,d.group),delete i[s]):+s<n&&(d.state=un,d.timer.stop(),d.on.call("cancel",t,t.__data__,d.index,d.group),delete i[s])}if(Re(function(){e.state===on&&(e.state=ze,e.timer.restart(a,e.delay,e.time),a(l))}),e.state=Hn,e.on.call("start",t,t.__data__,e.index,e.group),e.state===Hn){for(e.state=on,r=new Array(h=e.tween.length),s=0,c=-1;s<h;++s)(d=e.tween[s].value.call(t,t.__data__,e.index,e.group))&&(r[++c]=d);r.length=c+1}}function a(l){for(var s=l<e.duration?e.ease.call(null,l/e.duration):(e.timer.restart(f),e.state=Yn,1),c=-1,h=r.length;++c<h;)r[c].call(t,s);e.state===Yn&&(e.on.call("end",t,t.__data__,e.index,e.group),f())}function f(){e.state=un,e.timer.stop(),delete i[n];for(var l in i)return;delete t.__transition}}function an(t,n){var e=t.__transition,i,r,o=!0,u;if(e){n=n==null?null:n+"";for(u in e){if((i=e[u]).name!==n){o=!1;continue}r=i.state>Hn&&i.state<Yn,i.state=un,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[u]}o&&delete t.__transition}}function uu(t){return this.each(function(){an(this,t)})}function au(t,n){var e,i;return function(){var r=at(this,t),o=r.tween;if(o!==e){i=e=o;for(var u=0,a=i.length;u<a;++u)if(i[u].name===n){i=i.slice(),i.splice(u,1);break}}r.tween=i}}function su(t,n,e){var i,r;if(typeof e!="function")throw new Error;return function(){var o=at(this,t),u=o.tween;if(u!==i){r=(i=u).slice();for(var a={name:n,value:e},f=0,l=r.length;f<l;++f)if(r[f].name===n){r[f]=a;break}f===l&&r.push(a)}o.tween=r}}function lu(t,n){var e=this._id;if(t+="",arguments.length<2){for(var i=it(this.node(),e).tween,r=0,o=i.length,u;r<o;++r)if((u=i[r]).name===t)return u.value;return null}return this.each((n==null?au:su)(e,t,n))}function fe(t,n,e){var i=t._id;return t.each(function(){var r=at(this,i);(r.value||(r.value={}))[n]=e.apply(this,arguments)}),function(r){return it(r,i).value[n]}}function wi(t,n){var e;return(typeof n=="number"?gt:n instanceof Ht?Me:(e=Ht(n))?(n=e,Me):Vo)(t,n)}function fu(t){return function(){this.removeAttribute(t)}}function cu(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hu(t,n,e){var i,r=e+"",o;return function(){var u=this.getAttribute(t);return u===r?null:u===i?o:o=n(i=u,e)}}function pu(t,n,e){var i,r=e+"",o;return function(){var u=this.getAttributeNS(t.space,t.local);return u===r?null:u===i?o:o=n(i=u,e)}}function gu(t,n,e){var i,r,o;return function(){var u,a=e(this),f;return a==null?void this.removeAttribute(t):(u=this.getAttribute(t),f=a+"",u===f?null:u===i&&f===r?o:(r=f,o=n(i=u,a)))}}function du(t,n,e){var i,r,o;return function(){var u,a=e(this),f;return a==null?void this.removeAttributeNS(t.space,t.local):(u=this.getAttributeNS(t.space,t.local),f=a+"",u===f?null:u===i&&f===r?o:(r=f,o=n(i=u,a)))}}function vu(t,n){var e=En(t),i=e==="transform"?Ko:wi;return this.attrTween(t,typeof n=="function"?(e.local?du:gu)(e,i,fe(this,"attr."+t,n)):n==null?(e.local?cu:fu)(e):(e.local?pu:hu)(e,i,n))}function _u(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function mu(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function yu(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&mu(t,o)),e}return r._value=n,r}function wu(t,n){var e,i;function r(){var o=n.apply(this,arguments);return o!==i&&(e=(i=o)&&_u(t,o)),e}return r._value=n,r}function xu(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(n==null)return this.tween(e,null);if(typeof n!="function")throw new Error;var i=En(t);return this.tween(e,(i.local?yu:wu)(i,n))}function Su(t,n){return function(){le(this,t).delay=+n.apply(this,arguments)}}function Eu(t,n){return n=+n,function(){le(this,t).delay=n}}function Mu(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Su:Eu)(n,t)):it(this.node(),n).delay}function Nu(t,n){return function(){at(this,t).duration=+n.apply(this,arguments)}}function $u(t,n){return n=+n,function(){at(this,t).duration=n}}function Au(t){var n=this._id;return arguments.length?this.each((typeof t=="function"?Nu:$u)(n,t)):it(this.node(),n).duration}function Ru(t,n){if(typeof n!="function")throw new Error;return function(){at(this,t).ease=n}}function Tu(t){var n=this._id;return arguments.length?this.each(Ru(n,t)):it(this.node(),n).ease}function zu(t,n){return function(){var e=n.apply(this,arguments);if(typeof e!="function")throw new Error;at(this,t).ease=e}}function bu(t){if(typeof t!="function")throw new Error;return this.each(zu(this._id,t))}function ku(t){typeof t!="function"&&(t=ti(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var o=n[r],u=o.length,a=i[r]=[],f,l=0;l<u;++l)(f=o[l])&&t.call(f,f.__data__,l,o)&&a.push(f);return new pt(i,this._parents,this._name,this._id)}function Cu(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,r=e.length,o=Math.min(i,r),u=new Array(i),a=0;a<o;++a)for(var f=n[a],l=e[a],s=f.length,c=u[a]=new Array(s),h,d=0;d<s;++d)(h=f[d]||l[d])&&(c[d]=h);for(;a<i;++a)u[a]=n[a];return new pt(u,this._parents,this._name,this._id)}function Pu(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||n==="start"})}function Iu(t,n,e){var i,r,o=Pu(n)?le:at;return function(){var u=o(this,t),a=u.on;a!==i&&(r=(i=a).copy()).on(n,e),u.on=r}}function Du(t,n){var e=this._id;return arguments.length<2?it(this.node(),e).on.on(t):this.each(Iu(e,t,n))}function Fu(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}function Xu(){return this.on("end.remove",Fu(this._id))}function Lu(t){var n=this._name,e=this._id;typeof t!="function"&&(t=oe(t));for(var i=this._groups,r=i.length,o=new Array(r),u=0;u<r;++u)for(var a=i[u],f=a.length,l=o[u]=new Array(f),s,c,h=0;h<f;++h)(s=a[h])&&(c=t.call(s,s.__data__,h,a))&&("__data__"in s&&(c.__data__=s.__data__),l[h]=c,Nn(l[h],n,e,h,l,it(s,e)));return new pt(o,this._parents,n,e)}function qu(t){var n=this._name,e=this._id;typeof t!="function"&&(t=je(t));for(var i=this._groups,r=i.length,o=[],u=[],a=0;a<r;++a)for(var f=i[a],l=f.length,s,c=0;c<l;++c)if(s=f[c]){for(var h=t.call(s,s.__data__,c,f),d,_=it(s,e),x=0,w=h.length;x<w;++x)(d=h[x])&&Nn(d,n,e,x,h,_);o.push(h),u.push(s)}return new pt(o,u,n,e)}var Hu=Ut.prototype.constructor;function Yu(){return new Hu(this._groups,this._parents)}function Ou(t,n){var e,i,r;return function(){var o=$t(this,t),u=(this.style.removeProperty(t),$t(this,t));return o===u?null:o===e&&u===i?r:r=n(e=o,i=u)}}function xi(t){return function(){this.style.removeProperty(t)}}function Vu(t,n,e){var i,r=e+"",o;return function(){var u=$t(this,t);return u===r?null:u===i?o:o=n(i=u,e)}}function Bu(t,n,e){var i,r,o;return function(){var u=$t(this,t),a=e(this),f=a+"";return a==null&&(f=a=(this.style.removeProperty(t),$t(this,t))),u===f?null:u===i&&f===r?o:(r=f,o=n(i=u,a))}}function Gu(t,n){var e,i,r,o="style."+n,u="end."+o,a;return function(){var f=at(this,t),l=f.on,s=f.value[o]==null?a||(a=xi(n)):void 0;(l!==e||r!==s)&&(i=(e=l).copy()).on(u,r=s),f.on=i}}function Uu(t,n,e){var i=(t+="")=="transform"?Uo:wi;return n==null?this.styleTween(t,Ou(t,i)).on("end.style."+t,xi(t)):typeof n=="function"?this.styleTween(t,Bu(t,i,fe(this,"style."+t,n))).each(Gu(this._id,t)):this.styleTween(t,Vu(t,i,n),e).on("end.style."+t,null)}function Ku(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}function Zu(t,n,e){var i,r;function o(){var u=n.apply(this,arguments);return u!==r&&(i=(r=u)&&Ku(t,u,e)),i}return o._value=n,o}function Wu(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(n==null)return this.tween(i,null);if(typeof n!="function")throw new Error;return this.tween(i,Zu(t,n,e??""))}function Qu(t){return function(){this.textContent=t}}function Ju(t){return function(){var n=t(this);this.textContent=n??""}}function ju(t){return this.tween("text",typeof t=="function"?Ju(fe(this,"text",t)):Qu(t==null?"":t+""))}function ta(t){return function(n){this.textContent=t.call(this,n)}}function na(t){var n,e;function i(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&ta(r)),n}return i._value=t,i}function ea(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,na(t))}function ia(){for(var t=this._name,n=this._id,e=Si(),i=this._groups,r=i.length,o=0;o<r;++o)for(var u=i[o],a=u.length,f,l=0;l<a;++l)if(f=u[l]){var s=it(f,n);Nn(f,t,e,l,u,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new pt(i,this._parents,t,e)}function ra(){var t,n,e=this,i=e._id,r=e.size();return new Promise(function(o,u){var a={value:u},f={value:function(){--r===0&&o()}};e.each(function(){var l=at(this,i),s=l.on;s!==t&&(n=(t=s).copy(),n._.cancel.push(a),n._.interrupt.push(a),n._.end.push(f)),l.on=n}),r===0&&o()})}var oa=0;function pt(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function Si(){return++oa}var ft=Ut.prototype;pt.prototype={constructor:pt,select:Lu,selectAll:qu,selectChild:ft.selectChild,selectChildren:ft.selectChildren,filter:ku,merge:Cu,selection:Yu,transition:ia,call:ft.call,nodes:ft.nodes,node:ft.node,size:ft.size,empty:ft.empty,each:ft.each,on:Du,attr:vu,attrTween:xu,style:Uu,styleTween:Wu,text:ju,textTween:ea,remove:Xu,tween:lu,delay:Mu,duration:Au,ease:Tu,easeVarying:bu,end:ra,[Symbol.iterator]:ft[Symbol.iterator]};function ua(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var aa={time:null,delay:0,duration:250,ease:ua};function sa(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}function la(t){var n,e;t instanceof pt?(n=t._id,t=t._name):(n=Si(),(e=aa).time=se(),t=t==null?null:t+"");for(var i=this._groups,r=i.length,o=0;o<r;++o)for(var u=i[o],a=u.length,f,l=0;l<a;++l)(f=u[l])&&Nn(f,t,n,l,u,e||sa(f,n));return new pt(i,this._parents,t,n)}Ut.prototype.interrupt=uu;Ut.prototype.transition=la;var X=1e-6,I=Math.PI,Z=I/2,be=I/4,J=I*2,W=180/I,B=I/180,q=Math.abs,Ei=Math.atan,Ot=Math.atan2,Y=Math.cos,fa=Math.exp,ca=Math.log,O=Math.sin,ha=Math.sign||function(t){return t>0?1:t<0?-1:0},St=Math.sqrt,pa=Math.tan;function ga(t){return t>1?0:t<-1?I:Math.acos(t)}function Vt(t){return t>1?Z:t<-1?-Z:Math.asin(t)}function tt(){}function dn(t,n){t&&Ce.hasOwnProperty(t.type)&&Ce[t.type](t,n)}var ke={Feature:function(t,n){dn(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,i=-1,r=e.length;++i<r;)dn(e[i].geometry,n)}},Ce={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)t=e[i],n.point(t[0],t[1],t[2])},LineString:function(t,n){On(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)On(e[i],n,0)},Polygon:function(t,n){Pe(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,i=-1,r=e.length;++i<r;)Pe(e[i],n)},GeometryCollection:function(t,n){for(var e=t.geometries,i=-1,r=e.length;++i<r;)dn(e[i],n)}};function On(t,n,e){var i=-1,r=t.length-e,o;for(n.lineStart();++i<r;)o=t[i],n.point(o[0],o[1],o[2]);n.lineEnd()}function Pe(t,n){var e=-1,i=t.length;for(n.polygonStart();++e<i;)On(t[e],n,1);n.polygonEnd()}function Et(t,n){t&&ke.hasOwnProperty(t.type)?ke[t.type](t,n):dn(t,n)}function Vn(t){return[Ot(t[1],t[0]),Vt(t[2])]}function Rt(t){var n=t[0],e=t[1],i=Y(e);return[i*Y(n),i*O(n),O(e)]}function Jt(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function vn(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Tn(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function jt(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function Bn(t){var n=St(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}function Gn(t,n){function e(i,r){return i=t(i,r),n(i[0],i[1])}return t.invert&&n.invert&&(e.invert=function(i,r){return i=n.invert(i,r),i&&t.invert(i[0],i[1])}),e}function Un(t,n){return q(t)>I&&(t-=Math.round(t/J)*J),[t,n]}Un.invert=Un;function Mi(t,n,e){return(t%=J)?n||e?Gn(De(t),Fe(n,e)):De(t):n||e?Fe(n,e):Un}function Ie(t){return function(n,e){return n+=t,q(n)>I&&(n-=Math.round(n/J)*J),[n,e]}}function De(t){var n=Ie(t);return n.invert=Ie(-t),n}function Fe(t,n){var e=Y(t),i=O(t),r=Y(n),o=O(n);function u(a,f){var l=Y(f),s=Y(a)*l,c=O(a)*l,h=O(f),d=h*e+s*i;return[Ot(c*r-d*o,s*e-h*i),Vt(d*r+c*o)]}return u.invert=function(a,f){var l=Y(f),s=Y(a)*l,c=O(a)*l,h=O(f),d=h*r-c*o;return[Ot(c*r+h*o,s*e+d*i),Vt(d*e-s*i)]},u}function da(t){t=Mi(t[0]*B,t[1]*B,t.length>2?t[2]*B:0);function n(e){return e=t(e[0]*B,e[1]*B),e[0]*=W,e[1]*=W,e}return n.invert=function(e){return e=t.invert(e[0]*B,e[1]*B),e[0]*=W,e[1]*=W,e},n}function va(t,n,e,i,r,o){if(e){var u=Y(n),a=O(n),f=i*e;r==null?(r=n+i*J,o=n-f/2):(r=Xe(u,r),o=Xe(u,o),(i>0?r<o:r>o)&&(r+=i*J));for(var l,s=r;i>0?s>o:s<o;s-=f)l=Vn([u,-a*Y(s),-a*O(s)]),t.point(l[0],l[1])}}function Xe(t,n){n=Rt(n),n[0]-=t,Bn(n);var e=ga(-n[1]);return((-n[2]<0?-e:e)+J-X)%J}function Ni(){var t=[],n;return{point:function(e,i,r){n.push([e,i,r])},lineStart:function(){t.push(n=[])},lineEnd:tt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var e=t;return t=[],n=null,e}}}function sn(t,n){return q(t[0]-n[0])<X&&q(t[1]-n[1])<X}function tn(t,n,e,i){this.x=t,this.z=n,this.o=e,this.e=i,this.v=!1,this.n=this.p=null}function $i(t,n,e,i,r){var o=[],u=[],a,f;if(t.forEach(function(_){if(!((x=_.length-1)<=0)){var x,w=_[0],m=_[x],E;if(sn(w,m)){if(!w[2]&&!m[2]){for(r.lineStart(),a=0;a<x;++a)r.point((w=_[a])[0],w[1]);r.lineEnd();return}m[0]+=2*X}o.push(E=new tn(w,_,null,!0)),u.push(E.o=new tn(w,null,E,!1)),o.push(E=new tn(m,_,null,!1)),u.push(E.o=new tn(m,null,E,!0))}}),!!o.length){for(u.sort(n),Le(o),Le(u),a=0,f=u.length;a<f;++a)u[a].e=e=!e;for(var l=o[0],s,c;;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;s=h.z,r.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,f=s.length;a<f;++a)r.point((c=s[a])[0],c[1]);else i(h.x,h.n.x,1,r);h=h.n}else{if(d)for(s=h.p.z,a=s.length-1;a>=0;--a)r.point((c=s[a])[0],c[1]);else i(h.x,h.p.x,-1,r);h=h.p}h=h.o,s=h.z,d=!d}while(!h.v);r.lineEnd()}}}function Le(t){if(n=t.length){for(var n,e=0,i=t[0],r;++e<n;)i.n=r=t[e],r.p=i,i=r;i.n=r=t[0],r.p=i}}function zn(t){return q(t[0])<=I?t[0]:ha(t[0])*((q(t[0])+I)%J-I)}function _a(t,n){var e=zn(n),i=n[1],r=O(i),o=[O(e),-Y(e),0],u=0,a=0,f=new yt;r===1?i=Z+X:r===-1&&(i=-Z-X);for(var l=0,s=t.length;l<s;++l)if(h=(c=t[l]).length)for(var c,h,d=c[h-1],_=zn(d),x=d[1]/2+be,w=O(x),m=Y(x),E=0;E<h;++E,_=S,w=A,m=b,d=M){var M=c[E],S=zn(M),$=M[1]/2+be,A=O($),b=Y($),k=S-_,C=k>=0?1:-1,D=C*k,T=D>I,U=w*A;if(f.add(Ot(U*C*O(D),m*b+U*Y(D))),u+=T?k+C*J:k,T^_>=e^S>=e){var L=vn(Rt(d),Rt(M));Bn(L);var p=vn(o,L);Bn(p);var g=(T^k>=0?-1:1)*Vt(p[2]);(i>g||i===g&&(L[0]||L[1]))&&(a+=T^k>=0?1:-1)}}return(u<-X||u<X&&f<-1e-12)^a&1}function Ai(t,n,e,i){return function(r){var o=n(r),u=Ni(),a=n(u),f=!1,l,s,c,h={point:d,lineStart:x,lineEnd:w,polygonStart:function(){h.point=m,h.lineStart=E,h.lineEnd=M,s=[],l=[]},polygonEnd:function(){h.point=d,h.lineStart=x,h.lineEnd=w,s=Qe(s);var S=_a(l,i);s.length?(f||(r.polygonStart(),f=!0),$i(s,ya,S,e,r)):S&&(f||(r.polygonStart(),f=!0),r.lineStart(),e(null,null,1,r),r.lineEnd()),f&&(r.polygonEnd(),f=!1),s=l=null},sphere:function(){r.polygonStart(),r.lineStart(),e(null,null,1,r),r.lineEnd(),r.polygonEnd()}};function d(S,$){t(S,$)&&r.point(S,$)}function _(S,$){o.point(S,$)}function x(){h.point=_,o.lineStart()}function w(){h.point=d,o.lineEnd()}function m(S,$){c.push([S,$]),a.point(S,$)}function E(){a.lineStart(),c=[]}function M(){m(c[0][0],c[0][1]),a.lineEnd();var S=a.clean(),$=u.result(),A,b=$.length,k,C,D;if(c.pop(),l.push(c),c=null,!!b){if(S&1){if(C=$[0],(k=C.length-1)>0){for(f||(r.polygonStart(),f=!0),r.lineStart(),A=0;A<k;++A)r.point((D=C[A])[0],D[1]);r.lineEnd()}return}b>1&&S&2&&$.push($.pop().concat($.shift())),s.push($.filter(ma))}}return h}}function ma(t){return t.length>1}function ya(t,n){return((t=t.x)[0]<0?t[1]-Z-X:Z-t[1])-((n=n.x)[0]<0?n[1]-Z-X:Z-n[1])}const qe=Ai(function(){return!0},wa,Sa,[-I,-Z]);function wa(t){var n=NaN,e=NaN,i=NaN,r;return{lineStart:function(){t.lineStart(),r=1},point:function(o,u){var a=o>0?I:-I,f=q(o-n);q(f-I)<X?(t.point(n,e=(e+u)/2>0?Z:-Z),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(a,e),t.point(o,e),r=0):i!==a&&f>=I&&(q(n-i)<X&&(n-=i*X),q(o-a)<X&&(o-=a*X),e=xa(n,e,o,u),t.point(i,e),t.lineEnd(),t.lineStart(),t.point(a,e),r=0),t.point(n=o,e=u),i=a},lineEnd:function(){t.lineEnd(),n=e=NaN},clean:function(){return 2-r}}}function xa(t,n,e,i){var r,o,u=O(t-e);return q(u)>X?Ei((O(n)*(o=Y(i))*O(e)-O(i)*(r=Y(n))*O(t))/(r*o*u)):(n+i)/2}function Sa(t,n,e,i){var r;if(t==null)r=e*Z,i.point(-I,r),i.point(0,r),i.point(I,r),i.point(I,0),i.point(I,-r),i.point(0,-r),i.point(-I,-r),i.point(-I,0),i.point(-I,r);else if(q(t[0]-n[0])>X){var o=t[0]<n[0]?I:-I;r=e*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(n[0],n[1])}function Ea(t){var n=Y(t),e=2*B,i=n>0,r=q(n)>X;function o(s,c,h,d){va(d,t,e,h,s,c)}function u(s,c){return Y(s)*Y(c)>n}function a(s){var c,h,d,_,x;return{lineStart:function(){_=d=!1,x=1},point:function(w,m){var E=[w,m],M,S=u(w,m),$=i?S?0:l(w,m):S?l(w+(w<0?I:-I),m):0;if(!c&&(_=d=S)&&s.lineStart(),S!==d&&(M=f(c,E),(!M||sn(c,M)||sn(E,M))&&(E[2]=1)),S!==d)x=0,S?(s.lineStart(),M=f(E,c),s.point(M[0],M[1])):(M=f(c,E),s.point(M[0],M[1],2),s.lineEnd()),c=M;else if(r&&c&&i^S){var A;!($&h)&&(A=f(E,c,!0))&&(x=0,i?(s.lineStart(),s.point(A[0][0],A[0][1]),s.point(A[1][0],A[1][1]),s.lineEnd()):(s.point(A[1][0],A[1][1]),s.lineEnd(),s.lineStart(),s.point(A[0][0],A[0][1],3)))}S&&(!c||!sn(c,E))&&s.point(E[0],E[1]),c=E,d=S,h=$},lineEnd:function(){d&&s.lineEnd(),c=null},clean:function(){return x|(_&&d)<<1}}}function f(s,c,h){var d=Rt(s),_=Rt(c),x=[1,0,0],w=vn(d,_),m=Jt(w,w),E=w[0],M=m-E*E;if(!M)return!h&&s;var S=n*m/M,$=-n*E/M,A=vn(x,w),b=jt(x,S),k=jt(w,$);Tn(b,k);var C=A,D=Jt(b,C),T=Jt(C,C),U=D*D-T*(Jt(b,b)-1);if(!(U<0)){var L=St(U),p=jt(C,(-D-L)/T);if(Tn(p,b),p=Vn(p),!h)return p;var g=s[0],v=c[0],y=s[1],N=c[1],R;v<g&&(R=g,g=v,v=R);var z=v-g,P=q(z-I)<X,F=P||z<X;if(!P&&N<y&&(R=y,y=N,N=R),F?P?y+N>0^p[1]<(q(p[0]-g)<X?y:N):y<=p[1]&&p[1]<=N:z>I^(g<=p[0]&&p[0]<=v)){var V=jt(C,(-D+L)/T);return Tn(V,b),[p,Vn(V)]}}}function l(s,c){var h=i?t:I-t,d=0;return s<-h?d|=1:s>h&&(d|=2),c<-h?d|=4:c>h&&(d|=8),d}return Ai(u,a,o,i?[0,-t]:[-I,t-I])}function Ma(t,n,e,i,r,o){var u=t[0],a=t[1],f=n[0],l=n[1],s=0,c=1,h=f-u,d=l-a,_;if(_=e-u,!(!h&&_>0)){if(_/=h,h<0){if(_<s)return;_<c&&(c=_)}else if(h>0){if(_>c)return;_>s&&(s=_)}if(_=r-u,!(!h&&_<0)){if(_/=h,h<0){if(_>c)return;_>s&&(s=_)}else if(h>0){if(_<s)return;_<c&&(c=_)}if(_=i-a,!(!d&&_>0)){if(_/=d,d<0){if(_<s)return;_<c&&(c=_)}else if(d>0){if(_>c)return;_>s&&(s=_)}if(_=o-a,!(!d&&_<0)){if(_/=d,d<0){if(_>c)return;_>s&&(s=_)}else if(d>0){if(_<s)return;_<c&&(c=_)}return s>0&&(t[0]=u+s*h,t[1]=a+s*d),c<1&&(n[0]=u+c*h,n[1]=a+c*d),!0}}}}}var Pt=1e9,nn=-Pt;function Na(t,n,e,i){function r(l,s){return t<=l&&l<=e&&n<=s&&s<=i}function o(l,s,c,h){var d=0,_=0;if(l==null||(d=u(l,c))!==(_=u(s,c))||f(l,s)<0^c>0)do h.point(d===0||d===3?t:e,d>1?i:n);while((d=(d+c+4)%4)!==_);else h.point(s[0],s[1])}function u(l,s){return q(l[0]-t)<X?s>0?0:3:q(l[0]-e)<X?s>0?2:1:q(l[1]-n)<X?s>0?1:0:s>0?3:2}function a(l,s){return f(l.x,s.x)}function f(l,s){var c=u(l,1),h=u(s,1);return c!==h?c-h:c===0?s[1]-l[1]:c===1?l[0]-s[0]:c===2?l[1]-s[1]:s[0]-l[0]}return function(l){var s=l,c=Ni(),h,d,_,x,w,m,E,M,S,$,A,b={point:k,lineStart:U,lineEnd:L,polygonStart:D,polygonEnd:T};function k(g,v){r(g,v)&&s.point(g,v)}function C(){for(var g=0,v=0,y=d.length;v<y;++v)for(var N=d[v],R=1,z=N.length,P=N[0],F,V,H=P[0],G=P[1];R<z;++R)F=H,V=G,P=N[R],H=P[0],G=P[1],V<=i?G>i&&(H-F)*(i-V)>(G-V)*(t-F)&&++g:G<=i&&(H-F)*(i-V)<(G-V)*(t-F)&&--g;return g}function D(){s=c,h=[],d=[],A=!0}function T(){var g=C(),v=A&&g,y=(h=Qe(h)).length;(v||y)&&(l.polygonStart(),v&&(l.lineStart(),o(null,null,1,l),l.lineEnd()),y&&$i(h,a,g,o,l),l.polygonEnd()),s=l,h=d=_=null}function U(){b.point=p,d&&d.push(_=[]),$=!0,S=!1,E=M=NaN}function L(){h&&(p(x,w),m&&S&&c.rejoin(),h.push(c.result())),b.point=k,S&&s.lineEnd()}function p(g,v){var y=r(g,v);if(d&&_.push([g,v]),$)x=g,w=v,m=y,$=!1,y&&(s.lineStart(),s.point(g,v));else if(y&&S)s.point(g,v);else{var N=[E=Math.max(nn,Math.min(Pt,E)),M=Math.max(nn,Math.min(Pt,M))],R=[g=Math.max(nn,Math.min(Pt,g)),v=Math.max(nn,Math.min(Pt,v))];Ma(N,R,t,n,e,i)?(S||(s.lineStart(),s.point(N[0],N[1])),s.point(R[0],R[1]),y||s.lineEnd(),A=!1):y&&(s.lineStart(),s.point(g,v),A=!1)}E=g,M=v,S=y}return b}}const Kn=t=>t;var bn=new yt,Zn=new yt,Ri,Ti,Wn,Qn,ct={point:tt,lineStart:tt,lineEnd:tt,polygonStart:function(){ct.lineStart=$a,ct.lineEnd=Ra},polygonEnd:function(){ct.lineStart=ct.lineEnd=ct.point=tt,bn.add(q(Zn)),Zn=new yt},result:function(){var t=bn/2;return bn=new yt,t}};function $a(){ct.point=Aa}function Aa(t,n){ct.point=zi,Ri=Wn=t,Ti=Qn=n}function zi(t,n){Zn.add(Qn*t-Wn*n),Wn=t,Qn=n}function Ra(){zi(Ri,Ti)}var Tt=1/0,_n=Tt,Bt=-Tt,mn=Bt,yn={point:Ta,lineStart:tt,lineEnd:tt,polygonStart:tt,polygonEnd:tt,result:function(){var t=[[Tt,_n],[Bt,mn]];return Bt=mn=-(_n=Tt=1/0),t}};function Ta(t,n){t<Tt&&(Tt=t),t>Bt&&(Bt=t),n<_n&&(_n=n),n>mn&&(mn=n)}var Jn=0,jn=0,It=0,wn=0,xn=0,Mt=0,te=0,ne=0,Dt=0,bi,ki,rt,ot,j={point:xt,lineStart:He,lineEnd:Ye,polygonStart:function(){j.lineStart=ka,j.lineEnd=Ca},polygonEnd:function(){j.point=xt,j.lineStart=He,j.lineEnd=Ye},result:function(){var t=Dt?[te/Dt,ne/Dt]:Mt?[wn/Mt,xn/Mt]:It?[Jn/It,jn/It]:[NaN,NaN];return Jn=jn=It=wn=xn=Mt=te=ne=Dt=0,t}};function xt(t,n){Jn+=t,jn+=n,++It}function He(){j.point=za}function za(t,n){j.point=ba,xt(rt=t,ot=n)}function ba(t,n){var e=t-rt,i=n-ot,r=St(e*e+i*i);wn+=r*(rt+t)/2,xn+=r*(ot+n)/2,Mt+=r,xt(rt=t,ot=n)}function Ye(){j.point=xt}function ka(){j.point=Pa}function Ca(){Ci(bi,ki)}function Pa(t,n){j.point=Ci,xt(bi=rt=t,ki=ot=n)}function Ci(t,n){var e=t-rt,i=n-ot,r=St(e*e+i*i);wn+=r*(rt+t)/2,xn+=r*(ot+n)/2,Mt+=r,r=ot*t-rt*n,te+=r*(rt+t),ne+=r*(ot+n),Dt+=r*3,xt(rt=t,ot=n)}function Pi(t){this._context=t}Pi.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:{this._context.moveTo(t,n),this._point=1;break}case 1:{this._context.lineTo(t,n);break}default:{this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,J);break}}},result:tt};var ee=new yt,kn,Ii,Di,Ft,Xt,Gt={point:tt,lineStart:function(){Gt.point=Ia},lineEnd:function(){kn&&Fi(Ii,Di),Gt.point=tt},polygonStart:function(){kn=!0},polygonEnd:function(){kn=null},result:function(){var t=+ee;return ee=new yt,t}};function Ia(t,n){Gt.point=Fi,Ii=Ft=t,Di=Xt=n}function Fi(t,n){Ft-=t,Xt-=n,ee.add(St(Ft*Ft+Xt*Xt)),Ft=t,Xt=n}let Oe,Sn,Ve,Be;class Ge{constructor(n){this._append=n==null?Xi:Da(n),this._radius=4.5,this._=""}pointRadius(n){return this._radius=+n,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(n,e){switch(this._point){case 0:{this._append`M${n},${e}`,this._point=1;break}case 1:{this._append`L${n},${e}`;break}default:{if(this._append`M${n},${e}`,this._radius!==Ve||this._append!==Sn){const i=this._radius,r=this._;this._="",this._append`m0,${i}a${i},${i} 0 1,1 0,${-2*i}a${i},${i} 0 1,1 0,${2*i}z`,Ve=i,Sn=this._append,Be=this._,this._=r}this._+=Be;break}}}result(){const n=this._;return this._="",n.length?n:null}}function Xi(t){let n=1;this._+=t[0];for(const e=t.length;n<e;++n)this._+=arguments[n]+t[n]}function Da(t){const n=Math.floor(t);if(!(n>=0))throw new RangeError(`invalid digits: ${t}`);if(n>15)return Xi;if(n!==Oe){const e=10**n;Oe=n,Sn=function(r){let o=1;this._+=r[0];for(const u=r.length;o<u;++o)this._+=Math.round(arguments[o]*e)/e+r[o]}}return Sn}function ns(t,n){let e=3,i=4.5,r,o;function u(a){return a&&(typeof i=="function"&&o.pointRadius(+i.apply(this,arguments)),Et(a,r(o))),o.result()}return u.area=function(a){return Et(a,r(ct)),ct.result()},u.measure=function(a){return Et(a,r(Gt)),Gt.result()},u.bounds=function(a){return Et(a,r(yn)),yn.result()},u.centroid=function(a){return Et(a,r(j)),j.result()},u.projection=function(a){return arguments.length?(r=a==null?(t=null,Kn):(t=a).stream,u):t},u.context=function(a){return arguments.length?(o=a==null?(n=null,new Ge(e)):new Pi(n=a),typeof i!="function"&&o.pointRadius(i),u):n},u.pointRadius=function(a){return arguments.length?(i=typeof a=="function"?a:(o.pointRadius(+a),+a),u):i},u.digits=function(a){if(!arguments.length)return e;if(a==null)e=null;else{const f=Math.floor(a);if(!(f>=0))throw new RangeError(`invalid digits: ${a}`);e=f}return n===null&&(o=new Ge(e)),u},u.projection(t).digits(e).context(n)}function ce(t){return function(n){var e=new ie;for(var i in t)e[i]=t[i];return e.stream=n,e}}function ie(){}ie.prototype={constructor:ie,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function he(t,n,e){var i=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),i!=null&&t.clipExtent(null),Et(e,t.stream(yn)),n(yn.result()),i!=null&&t.clipExtent(i),t}function Li(t,n,e){return he(t,function(i){var r=n[1][0]-n[0][0],o=n[1][1]-n[0][1],u=Math.min(r/(i[1][0]-i[0][0]),o/(i[1][1]-i[0][1])),a=+n[0][0]+(r-u*(i[1][0]+i[0][0]))/2,f=+n[0][1]+(o-u*(i[1][1]+i[0][1]))/2;t.scale(150*u).translate([a,f])},e)}function Fa(t,n,e){return Li(t,[[0,0],n],e)}function Xa(t,n,e){return he(t,function(i){var r=+n,o=r/(i[1][0]-i[0][0]),u=(r-o*(i[1][0]+i[0][0]))/2,a=-o*i[0][1];t.scale(150*o).translate([u,a])},e)}function La(t,n,e){return he(t,function(i){var r=+n,o=r/(i[1][1]-i[0][1]),u=-o*i[0][0],a=(r-o*(i[1][1]+i[0][1]))/2;t.scale(150*o).translate([u,a])},e)}var Ue=16,qa=Y(30*B);function Ke(t,n){return+n?Ya(t,n):Ha(t)}function Ha(t){return ce({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}function Ya(t,n){function e(i,r,o,u,a,f,l,s,c,h,d,_,x,w){var m=l-i,E=s-r,M=m*m+E*E;if(M>4*n&&x--){var S=u+h,$=a+d,A=f+_,b=St(S*S+$*$+A*A),k=Vt(A/=b),C=q(q(A)-1)<X||q(o-c)<X?(o+c)/2:Ot($,S),D=t(C,k),T=D[0],U=D[1],L=T-i,p=U-r,g=E*L-m*p;(g*g/M>n||q((m*L+E*p)/M-.5)>.3||u*h+a*d+f*_<qa)&&(e(i,r,o,u,a,f,T,U,C,S/=b,$/=b,A,x,w),w.point(T,U),e(T,U,C,S,$,A,l,s,c,h,d,_,x,w))}}return function(i){var r,o,u,a,f,l,s,c,h,d,_,x,w={point:m,lineStart:E,lineEnd:S,polygonStart:function(){i.polygonStart(),w.lineStart=$},polygonEnd:function(){i.polygonEnd(),w.lineStart=E}};function m(k,C){k=t(k,C),i.point(k[0],k[1])}function E(){c=NaN,w.point=M,i.lineStart()}function M(k,C){var D=Rt([k,C]),T=t(k,C);e(c,h,s,d,_,x,c=T[0],h=T[1],s=k,d=D[0],_=D[1],x=D[2],Ue,i),i.point(c,h)}function S(){w.point=m,i.lineEnd()}function $(){E(),w.point=A,w.lineEnd=b}function A(k,C){M(r=k,C),o=c,u=h,a=d,f=_,l=x,w.point=M}function b(){e(c,h,s,d,_,x,o,u,r,a,f,l,Ue,i),w.lineEnd=S,S()}return w}}var Oa=ce({point:function(t,n){this.stream.point(t*B,n*B)}});function Va(t){return ce({point:function(n,e){var i=t(n,e);return this.stream.point(i[0],i[1])}})}function Ba(t,n,e,i,r){function o(u,a){return u*=i,a*=r,[n+t*u,e-t*a]}return o.invert=function(u,a){return[(u-n)/t*i,(e-a)/t*r]},o}function Ze(t,n,e,i,r,o){if(!o)return Ba(t,n,e,i,r);var u=Y(o),a=O(o),f=u*t,l=a*t,s=u/t,c=a/t,h=(a*e-u*n)/t,d=(a*n+u*e)/t;function _(x,w){return x*=i,w*=r,[f*x-l*w+n,e-l*x-f*w]}return _.invert=function(x,w){return[i*(s*x-c*w+h),r*(d-c*x-s*w)]},_}function Ga(t){return Ua(function(){return t})()}function Ua(t){var n,e=150,i=480,r=250,o=0,u=0,a=0,f=0,l=0,s,c=0,h=1,d=1,_=null,x=qe,w=null,m,E,M,S=Kn,$=.5,A,b,k,C,D;function T(g){return k(g[0]*B,g[1]*B)}function U(g){return g=k.invert(g[0],g[1]),g&&[g[0]*W,g[1]*W]}T.stream=function(g){return C&&D===g?C:C=Oa(Va(s)(x(A(S(D=g)))))},T.preclip=function(g){return arguments.length?(x=g,_=void 0,p()):x},T.postclip=function(g){return arguments.length?(S=g,w=m=E=M=null,p()):S},T.clipAngle=function(g){return arguments.length?(x=+g?Ea(_=g*B):(_=null,qe),p()):_*W},T.clipExtent=function(g){return arguments.length?(S=g==null?(w=m=E=M=null,Kn):Na(w=+g[0][0],m=+g[0][1],E=+g[1][0],M=+g[1][1]),p()):w==null?null:[[w,m],[E,M]]},T.scale=function(g){return arguments.length?(e=+g,L()):e},T.translate=function(g){return arguments.length?(i=+g[0],r=+g[1],L()):[i,r]},T.center=function(g){return arguments.length?(o=g[0]%360*B,u=g[1]%360*B,L()):[o*W,u*W]},T.rotate=function(g){return arguments.length?(a=g[0]%360*B,f=g[1]%360*B,l=g.length>2?g[2]%360*B:0,L()):[a*W,f*W,l*W]},T.angle=function(g){return arguments.length?(c=g%360*B,L()):c*W},T.reflectX=function(g){return arguments.length?(h=g?-1:1,L()):h<0},T.reflectY=function(g){return arguments.length?(d=g?-1:1,L()):d<0},T.precision=function(g){return arguments.length?(A=Ke(b,$=g*g),p()):St($)},T.fitExtent=function(g,v){return Li(T,g,v)},T.fitSize=function(g,v){return Fa(T,g,v)},T.fitWidth=function(g,v){return Xa(T,g,v)},T.fitHeight=function(g,v){return La(T,g,v)};function L(){var g=Ze(e,0,0,h,d,c).apply(null,n(o,u)),v=Ze(e,i-g[0],r-g[1],h,d,c);return s=Mi(a,f,l),b=Gn(n,v),k=Gn(s,b),A=Ke(b,$),p()}function p(){return C=D=null,T}return function(){return n=t.apply(this,arguments),T.invert=n.invert&&U,L()}}function pe(t,n){return[t,ca(pa((Z+n)/2))]}pe.invert=function(t,n){return[t,2*Ei(fa(n))-Z]};function es(){return Ka(pe).scale(961/J)}function Ka(t){var n=Ga(t),e=n.center,i=n.scale,r=n.translate,o=n.clipExtent,u=null,a,f,l;n.scale=function(c){return arguments.length?(i(c),s()):i()},n.translate=function(c){return arguments.length?(r(c),s()):r()},n.center=function(c){return arguments.length?(e(c),s()):e()},n.clipExtent=function(c){return arguments.length?(c==null?u=a=f=l=null:(u=+c[0][0],a=+c[0][1],f=+c[1][0],l=+c[1][1]),s()):u==null?null:[[u,a],[f,l]]};function s(){var c=I*i(),h=n(da(n.rotate()).invert([0,0]));return o(u==null?[[h[0]-c,h[1]-c],[h[0]+c,h[1]+c]]:t===pe?[[Math.max(h[0]-c,u),a],[Math.min(h[0]+c,f),l]]:[[u,Math.max(h[1]-c,a)],[f,Math.min(h[1]+c,l)]])}return s()}const en=t=>()=>t;function Za(t,{sourceEvent:n,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function ht(t,n,e){this.k=t,this.x=n,this.y=e}ht.prototype={constructor:ht,scale:function(t){return t===1?this:new ht(this.k*t,this.x,this.y)},translate:function(t,n){return t===0&n===0?this:new ht(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var qi=new ht(1,0,0);ht.prototype;function Cn(t){t.stopImmediatePropagation()}function bt(t){t.preventDefault(),t.stopImmediatePropagation()}function Wa(t){return(!t.ctrlKey||t.type==="wheel")&&!t.button}function Qa(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function We(){return this.__zoom||qi}function Ja(t){return-t.deltaY*(t.deltaMode===1?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function ja(){return navigator.maxTouchPoints||"ontouchstart"in this}function ts(t,n,e){var i=t.invertX(n[0][0])-e[0][0],r=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}function is(){var t=Wa,n=Qa,e=ts,i=Ja,r=ja,o=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],a=250,f=Jo,l=re("start","zoom","end"),s,c,h,d=500,_=150,x=0,w=10;function m(p){p.property("__zoom",We).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",C).on("dblclick.zoom",D).filter(r).on("touchstart.zoom",T).on("touchmove.zoom",U).on("touchend.zoom touchcancel.zoom",L).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(p,g,v,y){var N=p.selection?p.selection():p;N.property("__zoom",We),p!==N?$(p,g,v,y):N.interrupt().each(function(){A(this,arguments).event(y).start().zoom(null,typeof g=="function"?g.apply(this,arguments):g).end()})},m.scaleBy=function(p,g,v,y){m.scaleTo(p,function(){var N=this.__zoom.k,R=typeof g=="function"?g.apply(this,arguments):g;return N*R},v,y)},m.scaleTo=function(p,g,v,y){m.transform(p,function(){var N=n.apply(this,arguments),R=this.__zoom,z=v==null?S(N):typeof v=="function"?v.apply(this,arguments):v,P=R.invert(z),F=typeof g=="function"?g.apply(this,arguments):g;return e(M(E(R,F),z,P),N,u)},v,y)},m.translateBy=function(p,g,v,y){m.transform(p,function(){return e(this.__zoom.translate(typeof g=="function"?g.apply(this,arguments):g,typeof v=="function"?v.apply(this,arguments):v),n.apply(this,arguments),u)},null,y)},m.translateTo=function(p,g,v,y,N){m.transform(p,function(){var R=n.apply(this,arguments),z=this.__zoom,P=y==null?S(R):typeof y=="function"?y.apply(this,arguments):y;return e(qi.translate(P[0],P[1]).scale(z.k).translate(typeof g=="function"?-g.apply(this,arguments):-g,typeof v=="function"?-v.apply(this,arguments):-v),R,u)},y,N)};function E(p,g){return g=Math.max(o[0],Math.min(o[1],g)),g===p.k?p:new ht(g,p.x,p.y)}function M(p,g,v){var y=g[0]-v[0]*p.k,N=g[1]-v[1]*p.k;return y===p.x&&N===p.y?p:new ht(p.k,y,N)}function S(p){return[(+p[0][0]+ +p[1][0])/2,(+p[0][1]+ +p[1][1])/2]}function $(p,g,v,y){p.on("start.zoom",function(){A(this,arguments).event(y).start()}).on("interrupt.zoom end.zoom",function(){A(this,arguments).event(y).end()}).tween("zoom",function(){var N=this,R=arguments,z=A(N,R).event(y),P=n.apply(N,R),F=v==null?S(P):typeof v=="function"?v.apply(N,R):v,V=Math.max(P[1][0]-P[0][0],P[1][1]-P[0][1]),H=N.__zoom,G=typeof g=="function"?g.apply(N,R):g,st=f(H.invert(F).concat(V/H.k),G.invert(F).concat(V/G.k));return function(nt){if(nt===1)nt=G;else{var lt=st(nt),$n=V/lt[2];nt=new ht($n,F[0]-lt[0]*$n,F[1]-lt[1]*$n)}z.zoom(null,nt)}})}function A(p,g,v){return!v&&p.__zooming||new b(p,g)}function b(p,g){this.that=p,this.args=g,this.active=0,this.sourceEvent=null,this.extent=n.apply(p,g),this.taps=0}b.prototype={event:function(p){return p&&(this.sourceEvent=p),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(p,g){return this.mouse&&p!=="mouse"&&(this.mouse[1]=g.invert(this.mouse[0])),this.touch0&&p!=="touch"&&(this.touch0[1]=g.invert(this.touch0[0])),this.touch1&&p!=="touch"&&(this.touch1[1]=g.invert(this.touch1[0])),this.that.__zoom=g,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(p){var g=vt(this.that).datum();l.call(p,this.that,new Za(p,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:l}),g)}};function k(p,...g){if(!t.apply(this,arguments))return;var v=A(this,g).event(p),y=this.__zoom,N=Math.max(o[0],Math.min(o[1],y.k*Math.pow(2,i.apply(this,arguments)))),R=dt(p);if(v.wheel)(v.mouse[0][0]!==R[0]||v.mouse[0][1]!==R[1])&&(v.mouse[1]=y.invert(v.mouse[0]=R)),clearTimeout(v.wheel);else{if(y.k===N)return;v.mouse=[R,y.invert(R)],an(this),v.start()}bt(p),v.wheel=setTimeout(z,_),v.zoom("mouse",e(M(E(y,N),v.mouse[0],v.mouse[1]),v.extent,u));function z(){v.wheel=null,v.end()}}function C(p,...g){if(h||!t.apply(this,arguments))return;var v=p.currentTarget,y=A(this,g,!0).event(p),N=vt(p.view).on("mousemove.zoom",F,!0).on("mouseup.zoom",V,!0),R=dt(p,v),z=p.clientX,P=p.clientY;No(p.view),Cn(p),y.mouse=[R,this.__zoom.invert(R)],an(this),y.start();function F(H){if(bt(H),!y.moved){var G=H.clientX-z,st=H.clientY-P;y.moved=G*G+st*st>x}y.event(H).zoom("mouse",e(M(y.that.__zoom,y.mouse[0]=dt(H,v),y.mouse[1]),y.extent,u))}function V(H){N.on("mousemove.zoom mouseup.zoom",null),$o(H.view,y.moved),bt(H),y.event(H).end()}}function D(p,...g){if(t.apply(this,arguments)){var v=this.__zoom,y=dt(p.changedTouches?p.changedTouches[0]:p,this),N=v.invert(y),R=v.k*(p.shiftKey?.5:2),z=e(M(E(v,R),y,N),n.apply(this,g),u);bt(p),a>0?vt(this).transition().duration(a).call($,z,y,p):vt(this).call(m.transform,z,y,p)}}function T(p,...g){if(t.apply(this,arguments)){var v=p.touches,y=v.length,N=A(this,g,p.changedTouches.length===y).event(p),R,z,P,F;for(Cn(p),z=0;z<y;++z)P=v[z],F=dt(P,this),F=[F,this.__zoom.invert(F),P.identifier],N.touch0?!N.touch1&&N.touch0[2]!==F[2]&&(N.touch1=F,N.taps=0):(N.touch0=F,R=!0,N.taps=1+!!s);s&&(s=clearTimeout(s)),R&&(N.taps<2&&(c=F[0],s=setTimeout(function(){s=null},d)),an(this),N.start())}}function U(p,...g){if(this.__zooming){var v=A(this,g).event(p),y=p.changedTouches,N=y.length,R,z,P,F;for(bt(p),R=0;R<N;++R)z=y[R],P=dt(z,this),v.touch0&&v.touch0[2]===z.identifier?v.touch0[0]=P:v.touch1&&v.touch1[2]===z.identifier&&(v.touch1[0]=P);if(z=v.that.__zoom,v.touch1){var V=v.touch0[0],H=v.touch0[1],G=v.touch1[0],st=v.touch1[1],nt=(nt=G[0]-V[0])*nt+(nt=G[1]-V[1])*nt,lt=(lt=st[0]-H[0])*lt+(lt=st[1]-H[1])*lt;z=E(z,Math.sqrt(nt/lt)),P=[(V[0]+G[0])/2,(V[1]+G[1])/2],F=[(H[0]+st[0])/2,(H[1]+st[1])/2]}else if(v.touch0)P=v.touch0[0],F=v.touch0[1];else return;v.zoom("touch",e(M(z,P,F),v.extent,u))}}function L(p,...g){if(this.__zooming){var v=A(this,g).event(p),y=p.changedTouches,N=y.length,R,z;for(Cn(p),h&&clearTimeout(h),h=setTimeout(function(){h=null},d),R=0;R<N;++R)z=y[R],v.touch0&&v.touch0[2]===z.identifier?delete v.touch0:v.touch1&&v.touch1[2]===z.identifier&&delete v.touch1;if(v.touch1&&!v.touch0&&(v.touch0=v.touch1,delete v.touch1),v.touch0)v.touch0[1]=this.__zoom.invert(v.touch0[0]);else if(v.end(),v.taps===2&&(z=dt(z,this),Math.hypot(c[0]-z[0],c[1]-z[1])<w)){var P=vt(this).on("dblclick.zoom");P&&P.apply(this,arguments)}}}return m.wheelDelta=function(p){return arguments.length?(i=typeof p=="function"?p:en(+p),m):i},m.filter=function(p){return arguments.length?(t=typeof p=="function"?p:en(!!p),m):t},m.touchable=function(p){return arguments.length?(r=typeof p=="function"?p:en(!!p),m):r},m.extent=function(p){return arguments.length?(n=typeof p=="function"?p:en([[+p[0][0],+p[0][1]],[+p[1][0],+p[1][1]]]),m):n},m.scaleExtent=function(p){return arguments.length?(o[0]=+p[0],o[1]=+p[1],m):[o[0],o[1]]},m.translateExtent=function(p){return arguments.length?(u[0][0]=+p[0][0],u[1][0]=+p[1][0],u[0][1]=+p[0][1],u[1][1]=+p[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(p){return arguments.length?(e=p,m):e},m.duration=function(p){return arguments.length?(a=+p,m):a},m.interpolate=function(p){return arguments.length?(f=p,m):f},m.on=function(){var p=l.on.apply(l,arguments);return p===l?m:p},m.clickDistance=function(p){return arguments.length?(x=(p=+p)*p,m):Math.sqrt(x)},m.tapDistance=function(p){return arguments.length?(w=+p,m):w},m}export{qi as a,ns as i,es as m,vt as s,is as z};
//# sourceMappingURL=d3-DK4Cgk9G.js.map
